var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};
$(document).ready(function(){function a(){var d=document.getElementById("dateBirth").value,h=d.split("/");if(10>=d.length){var k=new Date;d=k.getDate();var m=k.getMonth()+1;k=k.getFullYear();10>d&&(d="0"+d);10>m&&(m="0"+m);d=(d+"/"+m+"/"+k).split("/");12<h[1]||31<h[0]||h[2]>=d[2]||1910>=h[2]?$("#dateBirth").siblings(".error-txt2").html("Enter Valid Date"):$("#dateBirth").siblings(".error-txt2").html("")}else 10!==d.length?$(".feedback-form-data-layer").attr("disabled","disabled"):$(".feedback-form-data-layer").removeAttr("disabled",
"disabled"),0==d.length&&$("#dateBirth").siblings(".error-txt2").html("")}function b(){formFilledFlag=$(".termbannerFormV2 #fnameBannerForm").parent().hasClass("valid")&&$(".termbannerFormV2 #dateBirth").parent().parent().hasClass("valid")&&$(".termbannerFormV2 #email").parent().hasClass("valid")&&$(".termbannerFormV2 #phone").parent().hasClass("valid")&&$(".termbannerFormV2 #agree-checkbox").hasClass("valid")?!0:!1}function c(d){var h=$('.termbannerFormV2 input[name\x3d"dateBirth"]');h.closest(".form-group");
var k=h.siblings(".error-txt");d=dayjs(d);d=dayjs(new Date).diff(d,"years");18<=d&&65>=d?(h.parent().parent().addClass("valid"),k.html(""),k.addClass("d-none")):(h.parent().parent().removeClass("valid"),k.html("Age should be between 18-65 years"),k.removeClass("d-none"))}$(".fieldnri #no_nriBannerForm, .fieldnri #yes_nriBannerForm, .fieldgen #maleBannerForm, .fieldgen #femaleBannerForm, .smoker .smokerDetails #noBannerForm, .smoker .smokerDetails #yesBannerForm").click(function(d){$(this).hasClass("valid")||
($(this).addClass("valid"),$(this).siblings().removeClass("valid"))});var e=/^[0]?[6789]\d{9}$/,f=/^[0]?[123456789]\d{5}|[123456789]\d{14}$/;$(".termbannerFormV2 .mobileNo10, .termbannerFormV2 .mobileNo14").on("input",function(){e.test($(".termbannerFormV2 .mobileNo10").val())||f.test($(".termbannerFormV2 .mobileNo14").val())?1<=$(".termbannerFormV2 #code").val().length&&(10==$(".termbannerFormV2 .mobileNo10").val().length||6<=$(".termbannerFormV2 .mobileNo14").val().length&&14>=$(".termbannerFormV2 .mobileNo14").val().length)?
($(this).parent().addClass("valid"),$(this).siblings(".error-txt").addClass("d-none")):0==$(".termbannerFormV2 #code").val().length&&(10==$(".termbannerFormV2 .mobileNo10").val().length||6<=$(".termbannerFormV2 .mobileNo14").val().length&&14>=$(".termbannerFormV2 .mobileNo14").val().length)?($(this).siblings(".error-txt").addClass("d-none"),$(this).parent().removeClass("valid")):0==$(".termbannerFormV2 #code").val().length&&(10==!$(".termbannerFormV2 .mobileNo10").val().length||6<=!$(".termbannerFormV2 .mobileNo14").val().length&&
14>=!$(".termbannerFormV2 .mobileNo14").val().length)?($(this).siblings(".error-txt").addClass("d-none"),$(this).parent().removeClass("valid")):($(this).parent().removeClass("valid"),(1<=$(".termbannerFormV2 .mobileNo10").val().length||1<=$(".termbannerFormV2 .mobileNo14").val().length)&&$(this).siblings(".error-txt").text("Please enter valid mobile number")):e.test($(".termbannerFormV2 .mobileNo10").val())&&f.test($(".termbannerFormV2 .mobileNo14").val())||($(this).parent().removeClass("valid"),
$(this).siblings(".error-txt").text("Please enter valid mobile number"));b()});$(".termbannerFormV2 #code").on("input",function(){e.test($(".termbannerFormV2 .mobileNo10").val())||f.test($(".termbannerFormV2 .mobileNo14").val())?1<=$(".termbannerFormV2 #code").val().length&&(10==$(".termbannerFormV2 .mobileNo10").val().length||6<=$(".termbannerFormV2 .mobileNo14").val().length&&14>=$(".termbannerFormV2 .mobileNo14").val().length)?($(this).parent().addClass("valid"),$(this).siblings(".error-txt1").addClass("d-none")):
(0==$(".termbannerFormV2 #code").val().length&&$(this).siblings(".error-txt1").removeClass("d-none"),$(this).parent().removeClass("valid")):e.test($(".termbannerFormV2 .mobileNo10").val())&&f.test($(".termbannerFormV2 .mobileNo14").val())||($(this).parent().removeClass("valid"),$(this).siblings(".error-txt").text("Please enter valid mobile number"));b()});$(".termbannerFormV2 #agree-checkbox").on("change",function(){$(this).is(":checked")?($(this).addClass("valid"),$(this).siblings(".error-txt").addClass("d-none")):
($(this).removeClass("valid"),$(this).siblings(".error-txt").removeClass("d-none"))});var l=new Date;$('.termbannerFormV2 input[name\x3d"dateBirth"]').daterangepicker({parentEl:$(".termbannerFormV2 .ban-right"),autoApply:!0,autoUpdateInput:!1,singleDatePicker:!0,showDropdowns:!0,startDate:"1985-01-01",minYear:1951,minDate:"1951-01-01",maxDate:dayjs().format("YYYY-MM-DD"),maxYear:l.getFullYear(),locale:{format:"YYYY-MM-DD",separator:" - "}},function(d,h,k){h=d.format("DD/MM/YYYY");$('.termbannerFormV2 input[name\x3d"dateBirth"]').val(h);
a();c(d);b()});$('.termbannerFormV2 input[name\x3d"dateBirth"]').on("apply.daterangepicker",function(d,h){d=h.startDate.format("DD/MM/YYYY");h.startDate.isSame("1985-01-01")&&$(this).val(d);a();c(h.startDate);b()});document.getElementById("dateBirth");var g=jQuery("input[name\x3ddateBirth]");g.bind("keyup","keydown",function(d){8!==d.which&&(d=g.val().length,2===d||5===d)&&(d=g.val(),g.val(d+"/"))})});
$(document).ready(function(){function a(b){var c=$(".termbannerFormV2 #code"),e=$(".termbannerFormV2 #phone"),f=$(".termbannerFormV2 .mobileNo10"),l=$(".termbannerFormV2 .mobileNo14");b?(c.removeAttr("readonly").val(""),c.parent().removeClass("valid"),f.hide(),l.show(),e.val("")):(c.attr("readonly","readonly").val("91"),c.parent().removeClass("valid"),f.show(),l.hide(),e.val(""),c.siblings(".error-txt1").removeClass("d-block").addClass("d-none"))}$(".fieldnri #yes_nriBannerForm").click(function(){a(!0);
$(this).addClass("valid").siblings().removeClass("valid")});$(".fieldnri #no_nriBannerForm").click(function(){a(!1);$(this).addClass("valid").siblings().removeClass("valid")});$(".fieldnri #yes_nriBannerForm").hasClass("valid")?a(!0):$(".fieldnri #no_nriBannerForm").hasClass("valid")&&a(!1)});
(function(a){var b=function(){return jsHelper.freezeObject({litePages:function(c,e){return new Promise(function(f,l){apiUtility.LITE_PAGES(c,e).then(function(g){f(g)}).catch(function(g){l(g)})})}})}();a.jsHelper.defineReadOnlyObjProp(a,"litePagesApiObjbannerFormV2",b)})(window||document||{});
(function(a){var b=function(){return jsHelper.freezeObject({sendOtp:function(c,e){return new Promise(function(f,l){apiUtility.SEND_OTP(c,e).then(function(g){f(g)}).catch(function(g){l(g)})})}})}();a.jsHelper.defineReadOnlyObjProp(a,"sendOtpApibannerFormV2",b)})(window||document||{});
(function(a){var b=function(){return jsHelper.freezeObject({verifyOtp:function(c,e){return new Promise(function(f,l){apiUtility.VERIFY_OTP(c,e).then(function(g){f(g)}).catch(function(g){l(g)})})}})}();a.jsHelper.defineReadOnlyObjProp(a,"verifyOtpApibannerFormV2",b)})(window||document||{});var productLiteCode,opsccflag2,liteApiCall2=!1,idleTime2=0,formFilledFlag=!1,redirectHeaders,termbannerFormV2_thisParent,termbannerFormV2_reqObjForOtp,termbannerFormV2_globalPhone,termbannerFormV2_globalCountryPhoneCode;
$(function(){preFilledForm(window.location);pageName=window.location.pathname.split("/").pop();pageName=pageName.replace(".html","");$.ajax({url:"https://api.hdfclife.com/api/products/get-product-code-from-url/",method:"post",type:"application/x-www-form-urlencoded; charset\x3dUTF-8",data:{url:"/"+pageName},success:function(a){productLiteCode=a.response.prod_code},error:function(a){console.log("Error: ",a)}})});
function errorMessagesonblank(){$(".termbannerFormV2 #fnameBannerForm").parent().hasClass("valid")&&$(".termbannerFormV2 #dateBirth").parent().parent().hasClass("valid")&&$(".termbannerFormV2 #email").parent().hasClass("valid")&&$(".termbannerFormV2 #code").parent().hasClass("valid")&&$(".termbannerFormV2 .mobileNo10").parent().hasClass("valid")&&$(".termbannerFormV2 .mobileNo14").parent().hasClass("valid")&&""!=$(".termbannerFormV2 #annualIncome option:selected").val()||($(".termbannerFormV2 #fnameBannerForm").parent().hasClass("valid")||
0!=$(".termbannerFormV2 #fnameBannerForm").val().length||$(".termbannerFormV2 #fnameBannerForm").siblings(".error-txt").removeClass("d-none").text("Please enter full name"),$(".termbannerFormV2 #dateBirth").parent().parent().hasClass("valid")||0!=$(".termbannerFormV2 #dateBirth").val().length||$(".termbannerFormV2 #dateBirth").siblings(".error-txt").removeClass("d-none").text("Please enter Date of Birth"),$(".termbannerFormV2 #email").parent().hasClass("valid")||0!=$(".termbannerFormV2 #email").val().length||
$(".termbannerFormV2 #email").siblings(".error-txt").removeClass("d-none").text("Please enter email"),$(".termbannerFormV2 #code").parent().hasClass("valid")||0!=$(".termbannerFormV2 #code").val().length?$(".termbannerFormV2 #code").siblings(".error-txt1").addClass("d-none"):$(".termbannerFormV2 #code").siblings(".error-txt1").removeClass("d-none").text("Please enter country code"),$(".termbannerFormV2 .mobileNo10").parent().hasClass("valid")||0!=$(".termbannerFormV2 .mobileNo10").val().length||0!=
$(".termbannerFormV2 .mobileNo14").val().length||$(".termbannerFormV2 .mobileNo10").siblings(".error-txt").removeClass("d-none").text("Please enter mobile number"),""==$(".termbannerFormV2 #annualIncome option:selected").val()&&$(".termbannerFormV2 #annualIncome").siblings(".error-txt").removeClass("d-none"))}
$(".termbannerFormV2 #annualIncome").on("change",function(){""==$(".termbannerFormV2 #annualIncome option:selected").val()?$(".termbannerFormV2 #annualIncome").siblings(".error-txt").removeClass("d-none"):$(".termbannerFormV2 #annualIncome").siblings(".error-txt").addClass("d-none")});
$(document).ready(function(){$(".termbannerFormV2 #litePageSubmit").on("submit",function(a){a.preventDefault();var b=$(".termbannerFormV2 .opsUrl").val().trim();termbannerFormV2_thisParent=$(this).closest(".newForm");var c=$(this).closest("form").find('button[type\x3d"submit"]');b=headerRequestTermBannerForm(b,window.location.href);var e=new URL(window.location);e=sanitize(new URLSearchParams(e.search.slice(1)));redirectHeaders=sanitize(e.toString());var f=$(".termbannerFormV2 #fnameBannerForm").val(),
l=$(".termbannerFormV2 #annualIncome").find(":selected").val().trim();e=f.includes(" ")?f.split(" ")[0]:f;var g=1<=f.split(" ").length?f.split(" ").slice(1,f.split(" ").length).join(" "):"";if(1>=f.split(" ").length)var d="";else 1<f.split(" ").length&&(d=g);var h=$(".termbannerFormV2 .fieldnri #no_nriBannerForm").hasClass("valid")?"N":"Y",k=$(".termbannerFormV2 .fieldgen #maleBannerForm").hasClass("valid")?"GEN_M":"GEN_F";if(f=0<$(".termbannerFormV2 .smoker #noBannerForm").length)var m=$(".termbannerFormV2 .smoker #noBannerForm").hasClass("valid")?
"N":"Y";var q=$(".termbannerFormV2 form .date.hasDatepicker").val();q=q.split("/").reverse().join("-");g=$(".termbannerFormV2 #email").val();var p=$(".termbannerFormV2 #code").val();if(10==$(".termbannerFormV2 .mobileNo10").val().length)var n=$(".termbannerFormV2 .mobileNo10").val();else 6<=$(".termbannerFormV2 .mobileNo14").val().length&&14>=$(".termbannerFormV2 .mobileNo14").val().length&&(n=$(".termbannerFormV2 .mobileNo14").val());termbannerFormV2_globalCountryPhoneCode=p;termbannerFormV2_globalPhone=
n;var r=$(".termbannerFormV2 .productCode").val();dropQueryString=window.location.href.includes("?")?"\x26firstName\x3d"+e+(d?"\x26lastName\x3d"+d:"")+"\x26emailAddress\x3d"+g+"\x26country_phone_code\x3d"+p+"\x26phone\x3d"+n+"\x26birthday\x3d"+q+"\x26gender\x3d"+k+"\x26nri\x3d"+h+"\x26tobacco\x3d"+m+"\x26source\x3d"+b["source-code"]+"\x26agentcode\x3d"+b["agent-code"]:"?firstName\x3d"+e+(d?"\x26lastName\x3d"+d:"")+"\x26emailAddress\x3d"+g+"\x26country_phone_code\x3d"+p+"\x26phone\x3d"+n+"\x26birthday\x3d"+
q+"\x26gender\x3d"+k+"\x26nri\x3d"+h+"\x26tobacco\x3d"+m+"\x26source\x3d"+b["source-code"]+"\x26agentcode\x3d"+b["agent-code"];var t=window.location.href+dropQueryString;dob=dayjs(q,"DD/MM/YYYY").format("DD-MMM-YYYY");formFilledFlag=$(".termbannerFormV2 #fnameBannerForm").parent().hasClass("valid")&&""==!$(".termbannerFormV2 #fnameBannerForm").val()&&$(".termbannerFormV2 #dateBirth").parent().parent().hasClass("valid")&&$(".termbannerFormV2 #email").parent().hasClass("valid")&&""==!$(".termbannerFormV2 #email").val()&&
$(".termbannerFormV2 #phone").parent().hasClass("valid")&&(""==!$(".termbannerFormV2 .mobileNo10").val()||""==!$(".termbannerFormV2 .mobileNo14").val())&&""==!$(".termbannerFormV2 #code").val()&&"0"!=$(".termbannerFormV2 #code").val()&&"00"!=$(".termbannerFormV2 #code").val()&&"000"!=$(".termbannerFormV2 #code").val()&&"0000"!=$(".termbannerFormV2 #code").val()&&$(".termbannerFormV2 #agree-checkbox").hasClass("valid")&&""!=$(".termbannerFormV2 #annualIncome option:selected").val()?!0:!1;if(1==formFilledFlag)a=
{first_name:e,last_name:d,email:g,phone:n,country_phone_code:p,dob:dob,gender:k,is_nri:h,product_code:r,ndnc_flag:"true",annual_income:l,send_lead_to_tebt:"Y"==h?"true":"false",droplink_url:t},f&&(a.is_smoker=m),globalLemniskReqObj=a,termbannerFormV2_reqObjForOtp={otp_type:"LEAD_CREATION",unique_param:p+n,phone:n,email:g,first_name:e,last_name:d,country_code:p},liteApiCall2=!0,"true"==$(this).attr("data-want-otp")&&($(".termbannerFormV2 .fieldnri #no_nriBannerForm").hasClass("valid")||"91"==termbannerFormV2_thisParent.find("#code").val()&&
validateIndianPhoneNumber(termbannerFormV2_thisParent.find(".mobileNo14 ").val()))?sendLiteTermbannerFormV2(a,b,redirectHeaders):sendLitePageReqTermBannerForm(a,b,redirectHeaders);else return errorMessagesonblank(),scrollToError(a,c,200)});$('.termbannerFormV2 [data-id\x3d"resendOtp"]').on("click",function(a){a.preventDefault();var b=$(".termbannerFormV2 .opsUrl").val().trim();termbannerFormV2_thisParent=$(this).closest(".newForm");var c=$(this).closest("form").find('button[type\x3d"submit"]');b=
headerRequestTermBannerForm(b,window.location.href);var e=new URL(window.location);e=sanitize(new URLSearchParams(e.search.slice(1)));redirectHeaders=sanitize(e.toString());var f=$(".termbannerFormV2 #fnameBannerForm").val();e=$(".termbannerFormV2 #annualIncome").find(":selected").val().trim();var l=f.includes(" ")?f.split(" ")[0]:f,g=1<=f.split(" ").length?f.split(" ").slice(1,f.split(" ").length).join(" "):"";if(1>=f.split(" ").length)var d="";else 1<f.split(" ").length&&(d=g);g=$(".termbannerFormV2 .fieldnri #no_nriBannerForm").hasClass("valid")?
"N":"Y";var h=$(".termbannerFormV2 .fieldgen #maleBannerForm").hasClass("valid")?"GEN_M":"GEN_F";if(f=0<$(".termbannerFormV2 .smoker #noBannerForm").length)var k=$(".termbannerFormV2 .smoker #noBannerForm").hasClass("valid")?"N":"Y";var m=$(".termbannerFormV2 form .date.hasDatepicker").val();m=m.split("/").reverse().join("-");var q=$(".termbannerFormV2 #email").val(),p=$(".termbannerFormV2 #code").val();if(10==$(".termbannerFormV2 .mobileNo10").val().length)var n=$(".termbannerFormV2 .mobileNo10").val();
else 6<=$(".termbannerFormV2 .mobileNo14").val().length&&14>=$(".termbannerFormV2 .mobileNo14").val().length&&(n=$(".termbannerFormV2 .mobileNo14").val());var r=$(".termbannerFormV2 .productCode").val();dropQueryString=window.location.href.includes("?")?"\x26firstName\x3d"+l+(d?"\x26lastName\x3d"+d:"")+"\x26emailAddress\x3d"+q+"\x26country_phone_code\x3d"+p+"\x26phone\x3d"+n+"\x26birthday\x3d"+m+"\x26gender\x3d"+h+"\x26nri\x3d"+g+"\x26tobacco\x3d"+k+"\x26source\x3d"+b["source-code"]+"\x26agentcode\x3d"+
b["agent-code"]:"?firstName\x3d"+l+(d?"\x26lastName\x3d"+d:"")+"\x26emailAddress\x3d"+q+"\x26country_phone_code\x3d"+p+"\x26phone\x3d"+n+"\x26birthday\x3d"+m+"\x26gender\x3d"+h+"\x26nri\x3d"+g+"\x26tobacco\x3d"+k+"\x26source\x3d"+b["source-code"]+"\x26agentcode\x3d"+b["agent-code"];var t=window.location.href+dropQueryString;dob=dayjs(m,"DD/MM/YYYY").format("DD-MMM-YYYY");formFilledFlag=$(".termbannerFormV2 #fnameBannerForm").parent().hasClass("valid")&&""==!$(".termbannerFormV2 #fnameBannerForm").val()&&
$(".termbannerFormV2 #dateBirth").parent().parent().hasClass("valid")&&$(".termbannerFormV2 #email").parent().hasClass("valid")&&""==!$(".termbannerFormV2 #email").val()&&$(".termbannerFormV2 #phone").parent().hasClass("valid")&&(""==!$(".termbannerFormV2 .mobileNo10").val()||""==!$(".termbannerFormV2 .mobileNo14").val())&&""==!$(".termbannerFormV2 #code").val()&&"0"!=$(".termbannerFormV2 #code").val()&&"00"!=$(".termbannerFormV2 #code").val()&&"000"!=$(".termbannerFormV2 #code").val()&&"0000"!=$(".termbannerFormV2 #code").val()&&
$(".termbannerFormV2 #agree-checkbox").hasClass("valid")&&""!=$(".termbannerFormV2 #annualIncome option:selected").val()?!0:!1;if(1==formFilledFlag)a={first_name:l,last_name:d,email:q,phone:n,country_phone_code:p,dob:dob,gender:h,is_nri:g,product_code:r,ndnc_flag:"true",annual_income:e,send_lead_to_tebt:"Y"==g?"true":"false",droplink_url:t},f&&(a.is_smoker=k),liteApiCall2=!0,"true"==$(this).attr("data-want-otp")&&$(".termbannerFormV2 .fieldnri #no_nriBannerForm").hasClass("valid")?sendLiteTermbannerFormV2(a,
b,redirectHeaders):sendLitePageReqTermBannerForm(a,b,redirectHeaders);else return errorMessagesonblank(),scrollToError(a,c,200)});$("#dropDown").on("click",function(){$(this).toggleClass("rotate");$(this).prev().toggleClass("expand")})});
function headerRequestTermBannerForm(a,b){b=getAgentSourceFromUrl(b);var c={"agent-code":"00488538","source-code":"HDFC_Life_tech_failure","content-type":"application/x-www-form-urlencoded; charset\x3dUTF-8"};a=new URL(a);a=new URLSearchParams(a.search.slice(1));a.has("source")&&(c["source-code"]=a.get("source"));a.has("source-code")&&(c["source-code"]=a.get("source-code"));a.has("sourcecode")&&(c["source-code"]=a.get("sourcecode"));a.has("agentcode")&&(c["agent-code"]=a.get("agentcode"));a.has("agent-code")&&
(c["agent-code"]=a.get("agent-code"));a.has("agent-token")&&(c["agent-token"]=a.get("agent-token"));a.has("utm_adgroupid")&&(c.adgroup=a.get("utm_adgroupid"));a.has("campaign-date")&&(c["campaign-date"]=a.get("campaign-date"));a.has("utm_campaignid")&&(c["campaign-id"]=a.get("utm_campaignid"));a.has("agent-code")&&(c["agent-code"]=a.get("agent-code"));a.has("gclid")&&(c.gclid=a.get("gclid"));a.has("matchtype")&&(c["match-type"]=a.get("matchtype"));a.has("pid")&&(c.pid=a.get("pid"));a.has("prod")&&
(c.prod=a.get("prod"));a.has("spid")&&(c.spid=a.get("spid"));a.has("utm_campaign")&&(c["utm-campaign"]=a.get("utm_campaign"));a.has("utm_content")&&(c["utm-content"]=a.get("utm_content"));a.has("spid")&&(c.spid=a.get("spid"));a.has("utm_medium")&&(c["utm-medium"]=a.get("utm_medium"));a.has("utm_source")&&(c["utm-source"]=a.get("utm_source"));a.has("utm_term")&&(c["utm-term"]=a.get("utm_term"));a.has("vid")&&(c.vid=a.get("vid"));if("source"in b||"source-code"in b||"sourcecode"in b)c["source-code"]=
b.source||b["source-code"]||b.sourcecode;if("agent"in b||"agentcode"in b||"agent-code"in b||"agent-token"in b)c["agent-code"]=b.agent||b.agentcode||b["agent-code"]||b["agent-token"];return c}
function preFilledForm(a){a=new URL(a);a=new URLSearchParams(a.search.slice(1));a.has("firstName")&&$("#firstName").val(a.get("firstName"));a.has("lastName")&&$("#lastName").val(a.get("lastName"));a.has("emailAddress")&&$("#email").val(a.get("emailAddress"));a.has("phone")&&$("#phone").val(a.get("phone"));a.has("birthday")&&$("#dateBirth").val(a.get("birthday"));"GEN_M"==a.get("gender")&&$("#maleBannerForm").prop("checked",!0);"GEN_F"==a.get("gender")&&$("#femaleBannerForm").prop("checked",!0);"Y"==
a.get("nri")&&$("#nriyes").prop("checked",!0);"N"==a.get("nri")&&$("#nrino").prop("checked",!0);"Y"==a.get("tobacco")&&$("#smokeryes").prop("checked",!0);"N"==a.get("tobacco")&&$("#smokerno").prop("checked",!0)}
$(window).on("beforeunload",function(a){a.preventDefault;a=headerRequestTermBannerForm();var b=$("input[name\x3ddateBirth]").val();closedob=dayjs(b,"DD/MM/YYYY").format("DD-MMM-YYYY");dropQueryString=window.location.href.includes("?")?"\x26firstName\x3d"+firstName+(lastName?"\x26lastName\x3d"+lastName:"")+"\x26emailAddress\x3d"+emailAddress+"\x26country_phone_code\x3d"+code+"\x26phone\x3d"+phone+"\x26birthday\x3d"+birthday+"\x26gender\x3d"+gender+"\x26nri\x3d"+nri+"\x26tobacco\x3d"+tobacco:"?firstName\x3d"+
firstName+(lastName?"\x26lastName\x3d"+lastName:"")+"\x26emailAddress\x3d"+emailAddress+"\x26country_phone_code\x3d"+code+"\x26phone\x3d"+phone+"\x26birthday\x3d"+birthday+"\x26gender\x3d"+gender+"\x26nri\x3d"+nri+"\x26tobacco\x3d"+tobacco;b=encodeURIComponent(window.location.href+dropQueryString);formDataBody="first_name\x3d"+firstName+(lastName?"\x26lastName\x3d"+lastName:"")+"\x26dob\x3d"+closedob+"\x26email\x3d"+emailAddress+"\x26country_phone_code\x3d"+code+"\x26phone\x3d"+phone+"\x26gender\x3d"+
gender+"\x26is_nri\x3d"+nri+"\x26is_smoker\x3d"+tobacco+"\x26product_code\x3d"+productLiteCode+"\x26ndnc_flag\x3d "+ndnc_flag+"\x26droplink_url\x3d"+b;a={headersReq:a,formData:{data:formDataBody}};b=new FormData;b.append("data",JSON.stringify(a));0==liteApiCall2&&navigator.sendBeacon("/content/hdfclifeinsurancecompany/api/litelanding.json",b)});
function sendLitePageReqTermBannerForm(a,b,c){$("#litePageSubmit .formView").toggleLoader();litePagesApiObjbannerFormV2.litePages(a,b).then(function(e){formSubmissionSuccess("subscribe-data-layer");$("#potentialClcultorResponse").modal("show");console.log(a);try{var f=$(".termbannerFormV2 #submitResult").data("eventname"),l=e.responseJson.response.first_name+"  "+e.responseJson.response.last_name,g="GEN_M"==e.responseJson.response.gender?"Male":"Female",d=$(".termbannerFormV2 form .date.hasDatepicker").val();
d=d.split("/").reverse().join("-");lemniskTrackingTermBannerFormV2Cta(f,l,g,d,"N"==e.responseJson.response.is_nri?"No":"Yes","N"==e.responseJson.response.is_smoker?"No":"Yes","Yes","Term Insurance",e.responseJson.response.id,"C2PS","Check Premium TI",a.country_phone_code,a.phone,e.responseJson.response.email)}catch(h){console.log("error occured",h)}renderLiteSuccessMessageTermBannerForm(e,b,c)}).catch(function(e){console.log("error: ",e);formSubmissionFailed("lite-page-data-layer",e);$("#litePageSubmit .formView").toggleApiFailMsg();
$("#litePageSubmit .formView").toggleLoader()})}$(".custom-border-blue").on("focus",function(){$("#code").css("border","1px solid #005e9e");$("#code").css("border-right","none")});$(".custom-border-blue").on("blur",function(){$("#code").css("border","")});$("#code").on("focus",function(){$(".custom-border-blue").css("border","1px solid #005e9e");$(".custom-border-blue").css("border-left","none")});$("#code").on("blur",function(){$(".custom-border-blue").css("border","")});
function getAgentSourceFromUrl(a){a=new URL(a);var b={};(new URLSearchParams(a.search)).forEach(function(c,e){b[e]=c});return b}function renderLiteSuccessMessageTermBannerForm(a,b,c){formSubmissionSuccess("subscribe-data-layer");urlHeader="";var e=a.responseJson.response.ocp_url;c&&(e+="\x26"+c);setTimeout(function(){$("#litePageSubmit .formView").toggleLoader();window.location.href=e},500)}
$(document).ready(function(){$('.termbannerFormV2 [data-id \x3d "verifyOtp"]').on("click",function(a){a.preventDefault();var b="";termbannerFormV2_thisParent.find(".otp-input input").each(function(){b+=$(this).val().toString()});a={otp:b,otp_type:"LEAD_CREATION",unique_param:termbannerFormV2_globalCountryPhoneCode+termbannerFormV2_globalPhone,lead_id:termbannerFormV2_thisParent.find('[data-id \x3d "verifyOtp"]').data().leadId};6==b.length?verifyOtpReqTermbannerFormV2(a,termbannerFormV2_thisParent):
(termbannerFormV2_thisParent.find(".error-red").addClass("dsp-n"),termbannerFormV2_thisParent.find('[data-id \x3d "incompleteOtpMsg"]').removeClass("dsp-n"),termbannerFormV2_thisParent.find(".otp-input input").addClass("border-red"),termbannerFormV2_thisParent.find('[data-id \x3d "successMsg"]').addClass("dsp-n"),termbannerFormV2_thisParent.find('[data-id \x3d "failureMsg"]').removeClass("dsp-n"))});$(".termbannerFormV2 #backBtn").on("click",function(a){termbannerFormV2_thisParent.find(".otp-screen-container").addClass("dsp-n");
termbannerFormV2_thisParent.find("#litePageSubmit").removeClass("dsp-n")});$(".otp-input input").on("keyup",function(a){var b=$(this);"Backspace"===a.key&&0===b.val().length?b.prev().focus():"ArrowRight"===a.key?b.next().focus():"ArrowLeft"===a.key?b.prev().focus():"Backspace"!==a.key&&b.val().length===b.attr("maxlength")&&b.next().focus()});$(".otp-input input").on("input",function(){var a=$(this),b=a.val().replace(/[^0-9]/g,"");a.val(b);b.length===a.attr("maxlength")&&a.next().focus()});$(".otp-input input").on("click focus",
function(){var a=$(this),b=a.val().length;a[0].setSelectionRange(b,b)})});function asteriskEmailPhoneTermbannerFormV2(a){var b=a.find(".mobileNo10").val().trim();b="91 "+b.slice(0,1)+"*******"+b.slice(8);a.find('[data-id \x3d "asteriskPhone"]').html(b)}
function sendLiteTermbannerFormV2(a,b,c){termbannerFormV2_thisParent.toggleLoader();litePagesApiObjbannerFormV2.litePages(a,b).then(function(e){var f=e.responseJson.response.lead_number;termbannerFormV2_thisParent.find('[data-id \x3d "verifyOtp"]').data("leadId",f);termbannerFormV2_thisParent.find('[data-id \x3d "verifyOtp"]').data("leadApiResponse",e);termbannerFormV2_thisParent.toggleLoader();sendOtpReqTermbannerFormV2(termbannerFormV2_reqObjForOtp,termbannerFormV2_thisParent)}).catch(function(e){console.log("error: ",
e);termbannerFormV2_thisParent.toggleLoader();termbannerFormV2_thisParent.toggleApiFailMsg();formSubmissionFailed("lite-page-data-layer",e)})}
function sendOtpReqTermbannerFormV2(a,b){b.toggleLoader();sendOtpApibannerFormV2.sendOtp(a).then(function(c){asteriskEmailPhoneTermbannerFormV2(b);b.find(".error-msg").addClass("dsp-n");b.find('[data-id \x3d "successMsg"]').removeClass("dsp-n");b.find('[data-id \x3d "otpSentMsg"]').removeClass("dsp-n");b.find('[data-id \x3d "failureMsg"]').addClass("dsp-n");setTimeout(function(){b.find('[data-id \x3d "successMsg"]').addClass("dsp-n")},1E4);b.find(".otp-input input").each(function(){$(this).val("")});
b.find(".otp-input input").removeClass("border-red");b.find('[data-id \x3d "otpOverlay"]').addClass("dsp-n");b.find("#litePageSubmit").addClass("dsp-n");b.find(".otp-screen-container").removeClass("dsp-n");b.toggleLoader();c=b.find(".otp-screen-container").offset().top;window.scrollTo({top:c-200,behavior:"smooth"})}).catch(function(c){b.toggleLoader();c&&(c=JSON.parse(c),c.detail&&(b.find('[data-id \x3d "successMsg"]').addClass("dsp-n"),b.find(".error-red").addClass("dsp-n"),b.find('[data-id \x3d "tryLaterMsg"]').html(sanitize(c.detail)),
b.find('[data-id \x3d "tryLaterMsg"]').removeClass("dsp-n"),b.find('[data-id \x3d "failureMsg"]').removeClass("dsp-n"),asteriskEmailPhoneTermbannerFormV2(b),b.find("#litePageSubmit").addClass("dsp-n"),b.find(".otp-screen-container").removeClass("dsp-n"),b.find(".otpoption").css("z-index",0),b.find('[data-id \x3d "otpOverlay"]').removeClass("dsp-n")))})}
function verifyOtpReqTermbannerFormV2(a,b){b.toggleLoader();verifyOtpApibannerFormV2.verifyOtp(a).then(function(c){b.find("#apiSuccessMsg").val();b.find(".otp-input input").removeClass("border-red");b.find(".error-msg").addClass("dsp-n");b.find('[data-id \x3d "successMsg"]').removeClass("dsp-n");b.find('[data-id \x3d "redirectionMsg"]').removeClass("dsp-n");b.find('[data-id \x3d "otpSentMsg"]').addClass("dsp-n");c=b.find('[data-id \x3d "verifyOtp"]').data().leadApiResponse;b.toggleLoader();localStorage.setItem("backFromOPS",
!0);renderLiteSuccessMessageTermBannerForm(c,"",redirectHeaders)}).catch(function(c){b.toggleLoader();b.toggleApiFailMsg();c&&(c=JSON.parse(c),b.find(".error-red").addClass("dsp-n"),b.find(".otp-input input").addClass("border-red"),"You have entered incorrect OTP more than 5 times."==c.detail.slice(0,49)?(b.find('[data-id \x3d "tryLaterMsg"]').html(c.detail),b.find('[data-id \x3d "tryLaterMsg"]').removeClass("dsp-n"),b.find('[data-id \x3d "otpOverlay"]').removeClass("dsp-n"),b.find(".otp-input input").blur(),
b.toggleApiFailMsg()):"Incorrect OTP entered."===c.detail&&(b.find('[data-id \x3d "invalidOtpMsg"]').removeClass("dsp-n"),b.toggleApiFailMsg()));b.find(".error-msg").addClass("dsp-n");b.find('[data-id \x3d "failureMsg"]').removeClass("dsp-n")})};